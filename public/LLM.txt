graph TD
    subgraph Data Ingestion Layer
        SCADA[SCADA Systems] --> DataBus
        IoTSensors[IoT Sensors (Smart Meters, Substations, Transformers)] --> DataBus
        AMI[AMI (Advanced Metering Infrastructure)] --> DataBus
        GIS[GIS (Geographic Information System)] --> DataBus
        DroneLiDAR[Drones & LiDAR (Inspection Data)] --> DataBus
    end

    subgraph Data Processing & Storage Layer
        DataBus[Data Ingestion Bus (e.g., Kafka, MQTT)] --> DataLake[Data Lake (Raw Data Storage)]
        DataBus --> StreamProcessing[Stream Processing (e.g., Flink, Spark Streaming)]
        StreamProcessing --> TimeSeriesDB[Time-Series Database (Real-time Metrics)]
        DataLake --> DataWarehouse[Data Warehouse (Historical & Enriched Data)]
    end

    subgraph Digital Twin Core
        TimeSeriesDB --> DigitalTwinModel[Digital Twin Model (Real-time Virtual Replica)]
        DataWarehouse --> DigitalTwinModel

        subgraph AI/ML Models
            DigitalTwinModel --> PredictiveMaintenance[Predictive Maintenance Models]
            DigitalTwinModel --> AnomalyDetection[Anomaly Detection Models]
            DigitalTwinModel --> LoadForecasting[Load Forecasting Models]
        end

        AI/MLModels --> OptimizationEngine[Optimization Engine (Grid Optimization)]
    end

    subgraph Applications & User Interface
        DigitalTwinModel --> OperationalDashboard[Operational Dashboard (Real-time Grid Visualization)]
        PredictiveMaintenance --> OperationalDashboard
        AnomalyDetection --> OperationalDashboard
        LoadForecasting --> OperationalDashboard

        OptimizationEngine --> GridControl[Grid Control Systems (Automated Actions)]
        OperationalDashboard --> OutageManagement[Outage Management System (Improved Response)]
        OperationalDashboard --> GridHealthAnalytics[Grid Health Analytics & Reporting]
    end

    subgraph Feedback & Actuation
        GridControl --> PowerGrid[Physical Power Grid & Distribution Network]
        OutageManagement --> PowerGrid
    end

    PowerGrid -- Sensor Data --> IoTSensors
    PowerGrid -- Control Signals --> SCADA

    style DataIngestionLayer fill:#F9E79F,stroke:#333,stroke-width:2px
    style DataProcessingStorageLayer fill:#D6EAF8,stroke:#333,stroke-width:2px
    style DigitalTwinCore fill:#D1F2EB,stroke:#333,stroke-width:2px
    style AIMLModels fill:#EDBB99,stroke:#333,stroke-width:2px
    style ApplicationsUserInterface fill:#FADBD8,stroke:#333,stroke-width:2px
    style FeedbackActuation fill:#E8DAEF,stroke:#333,stroke-width:2px